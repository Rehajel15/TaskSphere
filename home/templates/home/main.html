{% extends 'home/base.html' %}
{% block title %}Home{% endblock %}
{% block description %}TaskSphere's home page.{% endblock %}

{% block content %}
<div style="margin-top: 80px;">
    <div class="d-flex g-0 row w-100 text-light">
        {% for column in table.taskColumns.all %}
        <div class="col w-100 h-75 d-flex flex-column border">
            <div class="fs-4 text-decoration-underline d-flex justify-content-center align-items-center border-bottom" style="background-color: {{column.column_color}};">
                {{ column.column_name }}
            </div>
            {% for task in column.tasks.all %}
            <div class="card text-bg-secondary my-3 mx-5 text-center">
                <div class="card-header bg-dark fs-5 fw-bold">
                    {{task.task_name}}
                </div>
                <div class="card-body">
                    <p class="card-text">{{task.task_description}}</p>
                    {% if task.current_worker %}
                    <p class="card-text">Current worker: {{task.current_worker}}</p>
                    {% else %}
                    <p class="card-text">Current worker: <span class="fst-italic">No current worker...</span></p>
                    {% endif %}
                    <a href="#" class="btn btn-primary">Edit</a>
                </div>
                <div class="card-footer text-warning">
                    Deadline: {{task.deadLine}}
                </div>
            </div>
            {% empty %}
            <div class="text-white-50 d-flex justify-content-center fs-5 fst-italic my-3">No tasks...</div>
            {% endfor %}
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}